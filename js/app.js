// koffee 1.3.0

/*
000   000  000   000  000   000         0000000   00000000   00000000   
000 0 000   000 000   000 0 000        000   000  000   000  000   000  
000000000    00000    000000000        000000000  00000000   00000000   
000   000   000 000   000   000        000   000  000        000        
00     00  000   000  00     00        000   000  000        000
 */
var Menu, _, about, action, app, args, childp, electron, karg, klog, moveWindow, pkg, post, prefs, ref, showAbout, slash, tray, wc;

ref = require('kxk'), post = ref.post, prefs = ref.prefs, about = ref.about, slash = ref.slash, childp = ref.childp, karg = ref.karg, klog = ref.klog, _ = ref._;

wc = require('./wc');

pkg = require('../package.json');

electron = require('electron');

app = electron.app;

Menu = electron.Menu;

tray = null;

args = karg("wxw\n    debug  . ? log debug    . = false . - D\n\nversion  " + pkg.version);

post.on('winlog', function(text) {
    return klog(">>> " + text);
});

action = function(act) {
    switch (act) {
        case 'maximize':
            return wc('maximize', 'top');
        case 'minimize':
            return wc('minimize', 'top');
        case 'close':
            return wc('close', 'top');
        case 'screenzoom':
            return require('./zoom').start();
        default:
            return moveWindow(act);
    }
};

moveWindow = function(dir) {
    var ar, b, base, d, h, info, ref1, sb, screen, sl, sr, st, w, wr, x, y;
    screen = wc('screen', 'user');
    ar = {
        w: screen.width,
        h: screen.height
    };
    if (info = wc('info', 'top')[0]) {
        base = slash.base(info.path);
        if (base === 'electron' || base === 'ko' || base === 'konrad' || base === 'clippo' || base === 'klog' || base === 'kaligraf' || base === 'kalk' || base === 'uniko' || base === 'knot' || base === 'kachel' || base === 'space' || base === 'ruler') {
            b = 0;
        } else {
            b = 11;
        }
        wr = {
            x: info.x,
            y: info.y,
            w: info.width,
            h: info.height
        };
        d = 2 * b;
        ref1 = (function() {
            switch (dir) {
                case 'left':
                    return [-b, 0, ar.w / 2 + d, ar.h + b];
                case 'right':
                    return [ar.w / 2 - b, 0, ar.w / 2 + d, ar.h + b];
                case 'down':
                    return [ar.w / 4 - b, 0, ar.w / 2 + d, ar.h + b];
                case 'up':
                    return [ar.w / 6 - b, 0, 2 / 3 * ar.w + d, ar.h + b];
                case 'topleft':
                    return [-b, 0, ar.w / 3 + d, ar.h / 2];
                case 'top':
                    return [ar.w / 3 - b, 0, ar.w / 3 + d, ar.h / 2];
                case 'topright':
                    return [2 / 3 * ar.w - b, 0, ar.w / 3 + d, ar.h / 2];
                case 'botleft':
                    return [-b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
                case 'bot':
                    return [ar.w / 3 - b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
                case 'botright':
                    return [2 / 3 * ar.w - b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
            }
        })(), x = ref1[0], y = ref1[1], w = ref1[2], h = ref1[3];
        sl = 20 > Math.abs(wr.x - x);
        sr = 20 > Math.abs(wr.x + wr.w - (x + w));
        st = 20 > Math.abs(wr.y - y);
        sb = 20 > Math.abs(wr.y + wr.h - (y + h));
        if (sl && sr && st && sb) {
            switch (dir) {
                case 'left':
                    w = ar.w / 4 + d;
                    break;
                case 'right':
                    w = ar.w / 4 + d;
                    x = 3 * ar.w / 4 - b;
                    break;
                case 'down':
                    h = ar.h / 2 + d;
                    y = ar.h / 2 - b;
                    break;
                case 'up':
                    w = ar.w + d;
                    x = -b;
            }
        }
        return wc('bounds', info.hwnd, x, y, w, h);
    }
};

showAbout = function() {
    return about({
        img: __dirname + "/../img/about.png",
        background: "#222",
        size: 300,
        pkg: pkg
    });
};

app.on('window-all-closed', function(event) {
    return event.preventDefault();
});

app.on('ready', function() {
    var a, i, keys, len, ref1, ref2, results;
    tray = new electron.Tray(__dirname + "/../img/menu.png");
    tray.on('click', showAbout);
    tray.on('double-click', function() {
        app.exit(0);
        return process.exit(0);
    });
    tray.setContextMenu(Menu.buildFromTemplate([
        {
            label: "Quit",
            click: function() {
                app.exit(0);
                return process.exit(0);
            }
        }, {
            label: "About",
            click: showAbout
        }
    ]));
    if ((ref1 = app.dock) != null) {
        ref1.hide();
    }
    keys = {
        left: 'ctrl+alt+left',
        right: 'ctrl+alt+right',
        up: 'ctrl+alt+up',
        down: 'ctrl+alt+down',
        topleft: 'ctrl+alt+1',
        botleft: 'ctrl+alt+2',
        topright: 'ctrl+alt+3',
        botright: 'ctrl+alt+4',
        top: 'ctrl+alt+5',
        bot: 'ctrl+alt+6',
        minimize: 'ctrl+alt+m',
        close: 'ctrl+w',
        screenzoom: 'alt+z'
    };
    prefs.init({
        defaults: keys
    });
    ref2 = _.keys(keys);
    results = [];
    for (i = 0, len = ref2.length; i < len; i++) {
        a = ref2[i];
        results.push(electron.globalShortcut.register(prefs.get(a), (function(a) {
            return function() {
                return action(a);
            };
        })(a)));
    }
    return results;
});

if (args.debug) {
    require('./zoom').start({
        debug: true
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBQUEsSUFBQTs7QUFRQSxNQUF1RCxPQUFBLENBQVEsS0FBUixDQUF2RCxFQUFFLGVBQUYsRUFBUSxpQkFBUixFQUFlLGlCQUFmLEVBQXNCLGlCQUF0QixFQUE2QixtQkFBN0IsRUFBcUMsZUFBckMsRUFBMkMsZUFBM0MsRUFBaUQ7O0FBRWpELEVBQUEsR0FBVyxPQUFBLENBQVEsTUFBUjs7QUFDWCxHQUFBLEdBQVcsT0FBQSxDQUFRLGlCQUFSOztBQUNYLFFBQUEsR0FBVyxPQUFBLENBQVEsVUFBUjs7QUFFWCxHQUFBLEdBQVcsUUFBUSxDQUFDOztBQUNwQixJQUFBLEdBQVcsUUFBUSxDQUFDOztBQUNwQixJQUFBLEdBQVc7O0FBRVgsSUFBQSxHQUFPLElBQUEsQ0FBSywrREFBQSxHQUlELEdBQUcsQ0FBQyxPQUpSOztBQVNQLElBQUksQ0FBQyxFQUFMLENBQVEsUUFBUixFQUFrQixTQUFDLElBQUQ7V0FBVSxJQUFBLENBQUssTUFBQSxHQUFTLElBQWQ7QUFBVixDQUFsQjs7QUFRQSxNQUFBLEdBQVMsU0FBQyxHQUFEO0FBRUwsWUFBTyxHQUFQO0FBQUEsYUFDUyxVQURUO21CQUMyQixFQUFBLENBQUcsVUFBSCxFQUFjLEtBQWQ7QUFEM0IsYUFFUyxVQUZUO21CQUUyQixFQUFBLENBQUcsVUFBSCxFQUFjLEtBQWQ7QUFGM0IsYUFHUyxPQUhUO21CQUcyQixFQUFBLENBQUcsT0FBSCxFQUFjLEtBQWQ7QUFIM0IsYUFJUyxZQUpUO21CQUkyQixPQUFBLENBQVEsUUFBUixDQUFpQixDQUFDLEtBQWxCLENBQUE7QUFKM0I7bUJBS1MsVUFBQSxDQUFXLEdBQVg7QUFMVDtBQUZLOztBQWVULFVBQUEsR0FBYSxTQUFDLEdBQUQ7QUFFVCxRQUFBO0lBQUEsTUFBQSxHQUFTLEVBQUEsQ0FBRyxRQUFILEVBQVksTUFBWjtJQUVULEVBQUEs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LE9BQUEsQ0FBUSxRQUFSLENBQWlCLENBQUMsS0FBbEIsQ0FBd0I7UUFBQSxLQUFBLEVBQU0sSUFBTjtLQUF4QixFQURKIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG4wMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAgICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwMDAwMDAgICBcbjAwMCAwIDAwMCAgIDAwMCAwMDAgICAwMDAgMCAwMDAgICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIFxuMDAwMDAwMDAwICAgIDAwMDAwICAgIDAwMDAwMDAwMCAgICAgICAgMDAwMDAwMDAwICAwMDAwMDAwMCAgIDAwMDAwMDAwICAgXG4wMDAgICAwMDAgICAwMDAgMDAwICAgMDAwICAgMDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAgMDAwICAgICAgICBcbjAwICAgICAwMCAgMDAwICAgMDAwICAwMCAgICAgMDAgICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgIFxuIyMjXG5cbnsgcG9zdCwgcHJlZnMsIGFib3V0LCBzbGFzaCwgY2hpbGRwLCBrYXJnLCBrbG9nLCBfIH0gPSByZXF1aXJlICdreGsnXG5cbndjICAgICAgID0gcmVxdWlyZSAnLi93YydcbnBrZyAgICAgID0gcmVxdWlyZSAnLi4vcGFja2FnZS5qc29uJ1xuZWxlY3Ryb24gPSByZXF1aXJlICdlbGVjdHJvbidcblxuYXBwICAgICAgPSBlbGVjdHJvbi5hcHBcbk1lbnUgICAgID0gZWxlY3Ryb24uTWVudVxudHJheSAgICAgPSBudWxsXG5cbmFyZ3MgPSBrYXJnIFwiXCJcIlxud3h3XG4gICAgZGVidWcgIC4gPyBsb2cgZGVidWcgICAgLiA9IGZhbHNlIC4gLSBEXG5cbnZlcnNpb24gICN7cGtnLnZlcnNpb259XG5cIlwiXCJcblxuIyBhcmdzLmRlYnVnID0gdHJ1ZVxuXG5wb3N0Lm9uICd3aW5sb2cnLCAodGV4dCkgLT4ga2xvZyBcIj4+PiBcIiArIHRleHRcblxuIyAgMDAwMDAwMCAgICAwMDAwMDAwICAwMDAwMDAwMDAgIDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIFxuIyAwMDAgICAwMDAgIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAwICAwMDAgIFxuIyAwMDAwMDAwMDAgIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgMCAwMDAgIFxuIyAwMDAgICAwMDAgIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgIDAwMDAgIFxuIyAwMDAgICAwMDAgICAwMDAwMDAwICAgICAwMDAgICAgIDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIFxuXG5hY3Rpb24gPSAoYWN0KSAtPlxuICAgIFxuICAgIHN3aXRjaCBhY3RcbiAgICAgICAgd2hlbiAnbWF4aW1pemUnICAgdGhlbiB3YyAnbWF4aW1pemUnICd0b3AnXG4gICAgICAgIHdoZW4gJ21pbmltaXplJyAgIHRoZW4gd2MgJ21pbmltaXplJyAndG9wJ1xuICAgICAgICB3aGVuICdjbG9zZScgICAgICB0aGVuIHdjICdjbG9zZScgICAgJ3RvcCdcbiAgICAgICAgd2hlbiAnc2NyZWVuem9vbScgdGhlbiByZXF1aXJlKCcuL3pvb20nKS5zdGFydCgpXG4gICAgICAgIGVsc2UgbW92ZVdpbmRvdyBhY3RcbiAgICAgICAgXG4jIDAwICAgICAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAwICBcbiMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIFxuIyAwMDAwMDAwMDAgIDAwMCAgIDAwMCAgIDAwMCAwMDAgICAwMDAwMDAwICAgXG4jIDAwMCAwIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICBcbiMgMDAwICAgMDAwICAgMDAwMDAwMCAgICAgICAwICAgICAgMDAwMDAwMDAgIFxuXG5tb3ZlV2luZG93ID0gKGRpcikgLT5cbiAgICBcbiAgICBzY3JlZW4gPSB3YyAnc2NyZWVuJyAndXNlcidcbiAgICBcbiAgICBhciA9IHc6c2NyZWVuLndpZHRoLCBoOnNjcmVlbi5oZWlnaHRcbiAgICBcbiAgICBpZiBpbmZvID0gd2MoJ2luZm8nICd0b3AnKVswXVxuICAgICAgICBcbiAgICAgICAgYmFzZSA9IHNsYXNoLmJhc2UgaW5mby5wYXRoXG4gICAgICAgIGlmIGJhc2UgaW4gWydlbGVjdHJvbicgJ2tvJyAna29ucmFkJyAnY2xpcHBvJyAna2xvZycgJ2thbGlncmFmJyAna2FsaycgJ3VuaWtvJyAna25vdCcgJ2thY2hlbCcgJ3NwYWNlJyAncnVsZXInXVxuICAgICAgICAgICAgYiA9IDAgICAgIyBzYW5lIHdpbmRvdyBib3JkZXJcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgIyBiID0gMTAuOSAjIHRyYW5zcGFyZW50IHdpbmRvdyBib3JkZXJcbiAgICAgICAgICAgIGIgPSAxMSAgICMgdHJhbnNwYXJlbnQgd2luZG93IGJvcmRlclxuICAgICAgICBcbiAgICAgICAgd3IgPSB4OmluZm8ueCwgeTppbmZvLnksIHc6aW5mby53aWR0aCwgaDppbmZvLmhlaWdodFxuICAgICAgICBkID0gMipiXG4gICAgICAgIFt4LHksdyxoXSA9IHN3aXRjaCBkaXJcbiAgICAgICAgICAgIHdoZW4gJ2xlZnQnICAgICB0aGVuIFstYiwgICAgICAgICAwLCAgICAgICAgYXIudy8yK2QsIGFyLmgrYl1cbiAgICAgICAgICAgIHdoZW4gJ3JpZ2h0JyAgICB0aGVuIFthci53LzItYiwgICAwLCAgICAgICAgYXIudy8yK2QsIGFyLmgrYl1cbiAgICAgICAgICAgIHdoZW4gJ2Rvd24nICAgICB0aGVuIFthci53LzQtYiwgICAwLCAgICAgICAgYXIudy8yK2QsIGFyLmgrYl1cbiAgICAgICAgICAgIHdoZW4gJ3VwJyAgICAgICB0aGVuIFthci53LzYtYiwgICAwLCAgICAyLzMqYXIudytkLCAgIGFyLmgrYl1cbiAgICAgICAgICAgIHdoZW4gJ3RvcGxlZnQnICB0aGVuIFstYiwgICAgICAgICAwLCAgICAgICAgYXIudy8zK2QsIGFyLmgvMl1cbiAgICAgICAgICAgIHdoZW4gJ3RvcCcgICAgICB0aGVuIFthci53LzMtYiwgICAwLCAgICAgICAgYXIudy8zK2QsIGFyLmgvMl1cbiAgICAgICAgICAgIHdoZW4gJ3RvcHJpZ2h0JyB0aGVuIFsyLzMqYXIudy1iLCAwLCAgICAgICAgYXIudy8zK2QsIGFyLmgvMl1cbiAgICAgICAgICAgIHdoZW4gJ2JvdGxlZnQnICB0aGVuIFstYiwgICAgICAgICBhci5oLzItYiwgYXIudy8zK2QsIGFyLmgvMitkXVxuICAgICAgICAgICAgd2hlbiAnYm90JyAgICAgIHRoZW4gW2FyLncvMy1iLCAgIGFyLmgvMi1iLCBhci53LzMrZCwgYXIuaC8yK2RdXG4gICAgICAgICAgICB3aGVuICdib3RyaWdodCcgdGhlbiBbMi8zKmFyLnctYiwgYXIuaC8yLWIsIGFyLncvMytkLCBhci5oLzIrZF1cbiAgICAgICAgXG4gICAgICAgIHNsID0gMjAgPiBNYXRoLmFicyB3ci54IC0gIHhcbiAgICAgICAgc3IgPSAyMCA+IE1hdGguYWJzIHdyLngrd3IudyAtICh4K3cpXG4gICAgICAgIHN0ID0gMjAgPiBNYXRoLmFicyB3ci55IC0gIHlcbiAgICAgICAgc2IgPSAyMCA+IE1hdGguYWJzIHdyLnkrd3IuaCAtICh5K2gpXG4gICAgICAgIFxuICAgICAgICBpZiBzbCBhbmQgc3IgYW5kIHN0IGFuZCBzYlxuICAgICAgICAgICAgc3dpdGNoIGRpclxuICAgICAgICAgICAgICAgIHdoZW4gJ2xlZnQnICB0aGVuIHcgID0gYXIudy80K2RcbiAgICAgICAgICAgICAgICB3aGVuICdyaWdodCcgdGhlbiB3ICA9IGFyLncvNCtkOyB4ID0gMyphci53LzQtYlxuICAgICAgICAgICAgICAgIHdoZW4gJ2Rvd24nICB0aGVuIGggID0gYXIuaC8yK2Q7IHkgPSBhci5oLzItYlxuICAgICAgICAgICAgICAgIHdoZW4gJ3VwJyAgICB0aGVuIHcgID0gYXIudytkOyAgIHggPSAtYlxuICAgICAgICBcbiAgICAgICAgd2MgJ2JvdW5kcycgaW5mby5od25kLCB4LCB5LCB3LCBoXG4gICAgICAgIFxuIyAgMDAwMDAwMCAgIDAwMDAwMDAgICAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAwMCAgXG4jIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICBcbiMgMDAwMDAwMDAwICAwMDAwMDAwICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIFxuIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgXG4jIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAgMDAwMDAwMCAgICAwMDAwMDAwICAgICAgMDAwICAgICBcblxuc2hvd0Fib3V0ID0gLT5cbiAgICBcbiAgICBhYm91dCBcbiAgICAgICAgaW1nOiBcIiN7X19kaXJuYW1lfS8uLi9pbWcvYWJvdXQucG5nXCJcbiAgICAgICAgYmFja2dyb3VuZDogXCIjMjIyXCJcbiAgICAgICAgc2l6ZTogMzAwXG4gICAgICAgIHBrZzogcGtnXG5cbmFwcC5vbiAnd2luZG93LWFsbC1jbG9zZWQnIChldmVudCkgLT4gZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBcbiMgMDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMCAgIDAwMFxuIyAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgIDAwMCAwMDAgXG4jIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwICAgMDAwICAgIDAwMDAwICBcbiMgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgIFxuIyAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgICAgICAgMDAwICAgXG5cbmFwcC5vbiAncmVhZHknLCAtPlxuICAgIFxuICAgIHRyYXkgPSBuZXcgZWxlY3Ryb24uVHJheSBcIiN7X19kaXJuYW1lfS8uLi9pbWcvbWVudS5wbmdcIlxuICAgIHRyYXkub24gJ2NsaWNrJyBzaG93QWJvdXRcbiAgICB0cmF5Lm9uICdkb3VibGUtY2xpY2snIC0+IGFwcC5leGl0IDA7IHByb2Nlc3MuZXhpdCAwXG4gICAgXG4gICAgdHJheS5zZXRDb250ZXh0TWVudSBNZW51LmJ1aWxkRnJvbVRlbXBsYXRlIFtcbiAgICAgICAgbGFiZWw6IFwiUXVpdFwiXG4gICAgICAgIGNsaWNrOiAtPiBhcHAuZXhpdCAwOyBwcm9jZXNzLmV4aXQgMFxuICAgICxcbiAgICAgICAgbGFiZWw6IFwiQWJvdXRcIlxuICAgICAgICBjbGljazogc2hvd0Fib3V0XG4gICAgXVxuICAgIFxuICAgIGFwcC5kb2NrPy5oaWRlKClcbiAgICBcbiAgICBrZXlzID0gXG4gICAgICAgIGxlZnQ6ICAgICAgICdjdHJsK2FsdCtsZWZ0J1xuICAgICAgICByaWdodDogICAgICAnY3RybCthbHQrcmlnaHQnXG4gICAgICAgIHVwOiAgICAgICAgICdjdHJsK2FsdCt1cCdcbiAgICAgICAgZG93bjogICAgICAgJ2N0cmwrYWx0K2Rvd24nXG4gICAgICAgIHRvcGxlZnQ6ICAgICdjdHJsK2FsdCsxJ1xuICAgICAgICBib3RsZWZ0OiAgICAnY3RybCthbHQrMidcbiAgICAgICAgdG9wcmlnaHQ6ICAgJ2N0cmwrYWx0KzMnXG4gICAgICAgIGJvdHJpZ2h0OiAgICdjdHJsK2FsdCs0J1xuICAgICAgICB0b3A6ICAgICAgICAnY3RybCthbHQrNSdcbiAgICAgICAgYm90OiAgICAgICAgJ2N0cmwrYWx0KzYnXG4gICAgICAgIG1pbmltaXplOiAgICdjdHJsK2FsdCttJ1xuICAgICAgICBjbG9zZTogICAgICAnY3RybCt3J1xuICAgICAgICBzY3JlZW56b29tOiAnYWx0K3onXG4gICAgICAgIFxuICAgIHByZWZzLmluaXQgZGVmYXVsdHM6a2V5c1xuICAgIFxuICAgICMgaWYgbm90IHNsYXNoLmlzRmlsZSBwcmVmcy5zdG9yZS5maWxlXG4gICAgICAgICMgcHJlZnMuc2F2ZSgpXG5cbiAgICBmb3IgYSBpbiBfLmtleXMga2V5c1xuICAgICAgICBlbGVjdHJvbi5nbG9iYWxTaG9ydGN1dC5yZWdpc3RlciBwcmVmcy5nZXQoYSksICgoYSkgLT4gLT4gYWN0aW9uIGEpKGEpXG4gIFxuaWYgYXJncy5kZWJ1Z1xuICAgIHJlcXVpcmUoJy4vem9vbScpLnN0YXJ0IGRlYnVnOnRydWVcbiAgICBcbiAgICAiXX0=
//# sourceURL=../coffee/app.coffee