(function() {
  /*
  000   000  000   000  000   000         0000000   00000000   00000000   
  000 0 000   000 000   000 0 000        000   000  000   000  000   000  
  000000000    00000    000000000        000000000  00000000   00000000   
  000   000   000 000   000   000        000   000  000        000        
  00     00  000   000  00     00        000   000  000        000        
  */
  var Menu, _, about, action, app, args, childp, electron, error, karg, log, minimizeWindow, moveWindow, pkg, post, prefs, rect, ref, showAbout, slash, tray, user, wininfo;

  ({post, prefs, about, slash, childp, karg, error, log, _} = require('kxk'));

  user = require('./user');

  wininfo = require('./wininfo');

  rect = require('./rect');

  ref = require('ref');

  pkg = require('../package.json');

  electron = require('electron');

  app = electron.app;

  Menu = electron.Menu;

  tray = null;

  args = karg(`wxw\n    debug  . ? log debug    . = false . - D\n\nversion  ${pkg.version}`);

  // args.debug = true
  post.on('winlog', function(text) {
    return log(">>> " + text);
  });

  //  0000000    0000000  000000000  000   0000000   000   000  
  // 000   000  000          000     000  000   000  0000  000  
  // 000000000  000          000     000  000   000  000 0 000  
  // 000   000  000          000     000  000   000  000  0000  
  // 000   000   0000000     000     000   0000000   000   000  
  action = function(act) {
    switch (act) {
      case 'minimize':
        return minimizeWindow();
      case 'screenzoom':
        return require('./screenzoom').start();
      default:
        return moveWindow(act);
    }
  };

  
  // 00     00  000  000   000  000  00     00  000  0000000  00000000  
  // 000   000  000  0000  000  000  000   000  000     000   000       
  // 000000000  000  000 0 000  000  000000000  000    000    0000000   
  // 000 0 000  000  000  0000  000  000 0 000  000   000     000       
  // 000   000  000  000   000  000  000   000  000  0000000  00000000  
  minimizeWindow = function() {
    var SW_MINIMIZE, ensureFocusWindow, hWnd;
    ensureFocusWindow = function() {
      if (!user.GetForegroundWindow()) {
        return log('no focus window!');
      }
    };
    if (hWnd = user.GetForegroundWindow()) {
      SW_MINIMIZE = 6;
      user.ShowWindow(hWnd, SW_MINIMIZE);
      return setTimeout(ensureFocusWindow, 50);
    }
  };

  
  // 00     00   0000000   000   000  00000000  
  // 000   000  000   000  000   000  000       
  // 000000000  000   000   000 000   0000000   
  // 000 0 000  000   000     000     000       
  // 000   000   0000000       0      00000000  
  moveWindow = function(dir) {
    var SWP_NOZORDER, ar, b, base, d, h, hWnd, info, sb, sl, sr, st, w, wr, x, y;
    ar = rect.workarea();
    if (hWnd = user.GetForegroundWindow()) {
      info = wininfo(hWnd);
      base = slash.base(info.path);
      if (base === 'electron' || base === 'ko' || base === 'konrad' || base === 'clippo' || base === 'klog' || base === 'kaligraf' || base === 'kalk' || base === 'uniko' || base === 'knot' || base === 'Hyper') {
        b = 0; // sane window border
      } else {
        b = 10.9; // transparent window border
      }
      wr = rect.window(hWnd);
      d = 2 * b;
      [x, y, w, h] = (function() {
        switch (dir) {
          case 'left':
            return [-b, 0, ar.w / 2 + d, ar.h + b];
          case 'right':
            return [ar.w / 2 - b, 0, ar.w / 2 + d, ar.h + b];
          case 'down':
            return [ar.w / 4 - b, 0, ar.w / 2 + d, ar.h + b];
          case 'up':
            return [ar.w / 6 - b, 0, 2 / 3 * ar.w + d, ar.h + b];
          case 'topleft':
            return [-b, 0, ar.w / 3 + d, ar.h / 2];
          case 'top':
            return [ar.w / 3 - b, 0, ar.w / 3 + d, ar.h / 2];
          case 'topright':
            return [2 / 3 * ar.w - b, 0, ar.w / 3 + d, ar.h / 2];
          case 'botleft':
            return [-b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
          case 'bot':
            return [ar.w / 3 - b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
          case 'botright':
            return [2 / 3 * ar.w - b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
        }
      })();
      sl = 20 > Math.abs(wr.x - x);
      sr = 20 > Math.abs(wr.x + wr.w - (x + w));
      st = 20 > Math.abs(wr.y - y);
      sb = 20 > Math.abs(wr.y + wr.h - (y + h));
      if (sl && sr && st && sb) {
        switch (dir) {
          case 'left':
            w = ar.w / 4 + d;
            break;
          case 'right':
            w = ar.w / 4 + d;
            x = 3 * ar.w / 4 - b;
            break;
          case 'down':
            h = ar.h / 2 + d;
            y = ar.h / 2 - b;
            break;
          case 'up':
            w = ar.w + d;
            x = -b;
        }
      }
      SWP_NOZORDER = 0x4;
      user.RestoreWindow(hWnd);
      return user.SetWindowPos(hWnd, null, x, y, w, h, SWP_NOZORDER);
    }
  };

  
  //  0000000   0000000     0000000   000   000  000000000  
  // 000   000  000   000  000   000  000   000     000     
  // 000000000  0000000    000   000  000   000     000     
  // 000   000  000   000  000   000  000   000     000     
  // 000   000  0000000     0000000    0000000      000     
  showAbout = function() {
    return about({
      img: `${__dirname}/../img/about.png`,
      background: "#222",
      size: 300,
      pkg: pkg
    });
  };

  app.on('window-all-closed', function(event) {
    return event.preventDefault();
  });

  
  // 00000000   00000000   0000000   0000000    000   000
  // 000   000  000       000   000  000   000   000 000 
  // 0000000    0000000   000000000  000   000    00000  
  // 000   000  000       000   000  000   000     000   
  // 000   000  00000000  000   000  0000000       000   
  app.on('ready', function() {
    var a, i, keys, len, ref1, ref2, results;
    tray = new electron.Tray(`${__dirname}/../img/menu.png`);
    tray.on('click', showAbout);
    tray.on('double-click', function() {
      app.exit(0);
      return process.exit(0);
    });
    tray.setContextMenu(Menu.buildFromTemplate([
      {
        label: "Quit",
        click: function() {
          app.exit(0);
          return process.exit(0);
        }
      },
      {
        label: "About",
        click: showAbout
      }
    ]));
    if ((ref1 = app.dock) != null) {
      ref1.hide();
    }
    keys = {
      left: 'ctrl+alt+left',
      right: 'ctrl+alt+right',
      up: 'ctrl+alt+up',
      down: 'ctrl+alt+down',
      topleft: 'ctrl+alt+1',
      botleft: 'ctrl+alt+2',
      topright: 'ctrl+alt+3',
      botright: 'ctrl+alt+4',
      top: 'ctrl+alt+5',
      bot: 'ctrl+alt+6',
      minimize: 'ctrl+alt+m',
      screenzoom: 'alt+z'
    };
    prefs.init(keys);
    if (!slash.isFile(prefs.store.file)) {
      prefs.save();
    }
    ref2 = _.keys(keys);
    results = [];
    for (i = 0, len = ref2.length; i < len; i++) {
      a = ref2[i];
      results.push(electron.globalShortcut.register(prefs.get(a), (function(a) {
        return function() {
          return action(a);
        };
      })(a)));
    }
    return results;
  });

  if (args.debug) {
    require('./screenzoom').start({
      debug: true
    });
  }

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIi4uL2NvZmZlZS9hcHAuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUE7Ozs7Ozs7QUFBQSxNQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsY0FBQSxFQUFBLFVBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQTs7RUFRQSxDQUFBLENBQUUsSUFBRixFQUFRLEtBQVIsRUFBZSxLQUFmLEVBQXNCLEtBQXRCLEVBQTZCLE1BQTdCLEVBQXFDLElBQXJDLEVBQTJDLEtBQTNDLEVBQWtELEdBQWxELEVBQXVELENBQXZELENBQUEsR0FBNkQsT0FBQSxDQUFRLEtBQVIsQ0FBN0Q7O0VBRUEsSUFBQSxHQUFXLE9BQUEsQ0FBUSxRQUFSOztFQUNYLE9BQUEsR0FBVyxPQUFBLENBQVEsV0FBUjs7RUFDWCxJQUFBLEdBQVcsT0FBQSxDQUFRLFFBQVI7O0VBQ1gsR0FBQSxHQUFXLE9BQUEsQ0FBUSxLQUFSOztFQUVYLEdBQUEsR0FBVyxPQUFBLENBQVEsaUJBQVI7O0VBQ1gsUUFBQSxHQUFXLE9BQUEsQ0FBUSxVQUFSOztFQUVYLEdBQUEsR0FBVyxRQUFRLENBQUM7O0VBQ3BCLElBQUEsR0FBVyxRQUFRLENBQUM7O0VBQ3BCLElBQUEsR0FBVzs7RUFFWCxJQUFBLEdBQU8sSUFBQSxDQUFLLENBQUEsNkRBQUEsQ0FBQSxDQUlELEdBQUcsQ0FBQyxPQUpILENBQUEsQ0FBTCxFQXRCUDs7O0VBOEJBLElBQUksQ0FBQyxFQUFMLENBQVEsUUFBUixFQUFrQixRQUFBLENBQUMsSUFBRCxDQUFBO1dBQVUsR0FBQSxDQUFJLE1BQUEsR0FBUyxJQUFiO0VBQVYsQ0FBbEIsRUE5QkE7Ozs7Ozs7RUFzQ0EsTUFBQSxHQUFTLFFBQUEsQ0FBQyxHQUFELENBQUE7QUFFTCxZQUFPLEdBQVA7QUFBQSxXQUNTLFVBRFQ7ZUFDMkIsY0FBQSxDQUFBO0FBRDNCLFdBRVMsWUFGVDtlQUUyQixPQUFBLENBQVEsY0FBUixDQUF1QixDQUFDLEtBQXhCLENBQUE7QUFGM0I7ZUFHUyxVQUFBLENBQVcsR0FBWDtBQUhUO0VBRkssRUF0Q1Q7Ozs7Ozs7O0VBbURBLGNBQUEsR0FBaUIsUUFBQSxDQUFBLENBQUE7QUFFYixRQUFBLFdBQUEsRUFBQSxpQkFBQSxFQUFBO0lBQUEsaUJBQUEsR0FBb0IsUUFBQSxDQUFBLENBQUE7TUFFaEIsSUFBRyxDQUFJLElBQUksQ0FBQyxtQkFBTCxDQUFBLENBQVA7ZUFDSSxHQUFBLENBQUksa0JBQUosRUFESjs7SUFGZ0I7SUFLcEIsSUFBRyxJQUFBLEdBQU8sSUFBSSxDQUFDLG1CQUFMLENBQUEsQ0FBVjtNQUNJLFdBQUEsR0FBYztNQUNkLElBQUksQ0FBQyxVQUFMLENBQWdCLElBQWhCLEVBQXNCLFdBQXRCO2FBQ0EsVUFBQSxDQUFXLGlCQUFYLEVBQThCLEVBQTlCLEVBSEo7O0VBUGEsRUFuRGpCOzs7Ozs7OztFQXFFQSxVQUFBLEdBQWEsUUFBQSxDQUFDLEdBQUQsQ0FBQTtBQUVULFFBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLEVBQUE7SUFBQSxFQUFBLEdBQUssSUFBSSxDQUFDLFFBQUwsQ0FBQTtJQUVMLElBQUcsSUFBQSxHQUFPLElBQUksQ0FBQyxtQkFBTCxDQUFBLENBQVY7TUFFSSxJQUFBLEdBQU8sT0FBQSxDQUFRLElBQVI7TUFDUCxJQUFBLEdBQU8sS0FBSyxDQUFDLElBQU4sQ0FBVyxJQUFJLENBQUMsSUFBaEI7TUFDUCxJQUFHLElBQUEsS0FBUyxVQUFULElBQUEsSUFBQSxLQUFxQixJQUFyQixJQUFBLElBQUEsS0FBMkIsUUFBM0IsSUFBQSxJQUFBLEtBQXFDLFFBQXJDLElBQUEsSUFBQSxLQUErQyxNQUEvQyxJQUFBLElBQUEsS0FBdUQsVUFBdkQsSUFBQSxJQUFBLEtBQW1FLE1BQW5FLElBQUEsSUFBQSxLQUEyRSxPQUEzRSxJQUFBLElBQUEsS0FBb0YsTUFBcEYsSUFBQSxJQUFBLEtBQTRGLE9BQS9GO1FBQ0ksQ0FBQSxHQUFJLEVBRFI7T0FBQSxNQUFBO1FBR0ksQ0FBQSxHQUFJLEtBSFI7O01BS0EsRUFBQSxHQUFLLElBQUksQ0FBQyxNQUFMLENBQVksSUFBWjtNQUNMLENBQUEsR0FBSSxDQUFBLEdBQUU7TUFDTixDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsQ0FBQTtBQUFZLGdCQUFPLEdBQVA7QUFBQSxlQUNILE1BREc7bUJBQ2EsQ0FBQyxDQUFDLENBQUYsRUFBYSxDQUFiLEVBQXVCLEVBQUUsQ0FBQyxDQUFILEdBQUssQ0FBTCxHQUFPLENBQTlCLEVBQWlDLEVBQUUsQ0FBQyxDQUFILEdBQUssQ0FBdEM7QUFEYixlQUVILE9BRkc7bUJBRWEsQ0FBQyxFQUFFLENBQUMsQ0FBSCxHQUFLLENBQUwsR0FBTyxDQUFSLEVBQWEsQ0FBYixFQUF1QixFQUFFLENBQUMsQ0FBSCxHQUFLLENBQUwsR0FBTyxDQUE5QixFQUFpQyxFQUFFLENBQUMsQ0FBSCxHQUFLLENBQXRDO0FBRmIsZUFHSCxNQUhHO21CQUdhLENBQUMsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU8sQ0FBUixFQUFhLENBQWIsRUFBdUIsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU8sQ0FBOUIsRUFBaUMsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUF0QztBQUhiLGVBSUgsSUFKRzttQkFJYSxDQUFDLEVBQUUsQ0FBQyxDQUFILEdBQUssQ0FBTCxHQUFPLENBQVIsRUFBYSxDQUFiLEVBQW1CLENBQUEsR0FBRSxDQUFGLEdBQUksRUFBRSxDQUFDLENBQVAsR0FBUyxDQUE1QixFQUFpQyxFQUFFLENBQUMsQ0FBSCxHQUFLLENBQXRDO0FBSmIsZUFLSCxTQUxHO21CQUthLENBQUMsQ0FBQyxDQUFGLEVBQWEsQ0FBYixFQUF1QixFQUFFLENBQUMsQ0FBSCxHQUFLLENBQUwsR0FBTyxDQUE5QixFQUFpQyxFQUFFLENBQUMsQ0FBSCxHQUFLLENBQXRDO0FBTGIsZUFNSCxLQU5HO21CQU1hLENBQUMsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU8sQ0FBUixFQUFhLENBQWIsRUFBdUIsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU8sQ0FBOUIsRUFBaUMsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUF0QztBQU5iLGVBT0gsVUFQRzttQkFPYSxDQUFDLENBQUEsR0FBRSxDQUFGLEdBQUksRUFBRSxDQUFDLENBQVAsR0FBUyxDQUFWLEVBQWEsQ0FBYixFQUF1QixFQUFFLENBQUMsQ0FBSCxHQUFLLENBQUwsR0FBTyxDQUE5QixFQUFpQyxFQUFFLENBQUMsQ0FBSCxHQUFLLENBQXRDO0FBUGIsZUFRSCxTQVJHO21CQVFhLENBQUMsQ0FBQyxDQUFGLEVBQWEsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU8sQ0FBcEIsRUFBdUIsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU8sQ0FBOUIsRUFBaUMsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU8sQ0FBeEM7QUFSYixlQVNILEtBVEc7bUJBU2EsQ0FBQyxFQUFFLENBQUMsQ0FBSCxHQUFLLENBQUwsR0FBTyxDQUFSLEVBQWEsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU8sQ0FBcEIsRUFBdUIsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU8sQ0FBOUIsRUFBaUMsRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU8sQ0FBeEM7QUFUYixlQVVILFVBVkc7bUJBVWEsQ0FBQyxDQUFBLEdBQUUsQ0FBRixHQUFJLEVBQUUsQ0FBQyxDQUFQLEdBQVMsQ0FBVixFQUFhLEVBQUUsQ0FBQyxDQUFILEdBQUssQ0FBTCxHQUFPLENBQXBCLEVBQXVCLEVBQUUsQ0FBQyxDQUFILEdBQUssQ0FBTCxHQUFPLENBQTlCLEVBQWlDLEVBQUUsQ0FBQyxDQUFILEdBQUssQ0FBTCxHQUFPLENBQXhDO0FBVmI7O01BWVosRUFBQSxHQUFLLEVBQUEsR0FBSyxJQUFJLENBQUMsR0FBTCxDQUFTLEVBQUUsQ0FBQyxDQUFILEdBQVEsQ0FBakI7TUFDVixFQUFBLEdBQUssRUFBQSxHQUFLLElBQUksQ0FBQyxHQUFMLENBQVMsRUFBRSxDQUFDLENBQUgsR0FBSyxFQUFFLENBQUMsQ0FBUixHQUFZLENBQUMsQ0FBQSxHQUFFLENBQUgsQ0FBckI7TUFDVixFQUFBLEdBQUssRUFBQSxHQUFLLElBQUksQ0FBQyxHQUFMLENBQVMsRUFBRSxDQUFDLENBQUgsR0FBUSxDQUFqQjtNQUNWLEVBQUEsR0FBSyxFQUFBLEdBQUssSUFBSSxDQUFDLEdBQUwsQ0FBUyxFQUFFLENBQUMsQ0FBSCxHQUFLLEVBQUUsQ0FBQyxDQUFSLEdBQVksQ0FBQyxDQUFBLEdBQUUsQ0FBSCxDQUFyQjtNQUVWLElBQUcsRUFBQSxJQUFPLEVBQVAsSUFBYyxFQUFkLElBQXFCLEVBQXhCO0FBQ0ksZ0JBQU8sR0FBUDtBQUFBLGVBQ1MsTUFEVDtZQUNzQixDQUFBLEdBQUssRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU87QUFBekI7QUFEVCxlQUVTLE9BRlQ7WUFFc0IsQ0FBQSxHQUFLLEVBQUUsQ0FBQyxDQUFILEdBQUssQ0FBTCxHQUFPO1lBQUcsQ0FBQSxHQUFJLENBQUEsR0FBRSxFQUFFLENBQUMsQ0FBTCxHQUFPLENBQVAsR0FBUztBQUF6QztBQUZULGVBR1MsTUFIVDtZQUdzQixDQUFBLEdBQUssRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU87WUFBRyxDQUFBLEdBQUksRUFBRSxDQUFDLENBQUgsR0FBSyxDQUFMLEdBQU87QUFBdkM7QUFIVCxlQUlTLElBSlQ7WUFJc0IsQ0FBQSxHQUFLLEVBQUUsQ0FBQyxDQUFILEdBQUs7WUFBSyxDQUFBLEdBQUksQ0FBQztBQUoxQyxTQURKOztNQU9BLFlBQUEsR0FBZTtNQUNmLElBQUksQ0FBQyxhQUFMLENBQW1CLElBQW5CO2FBQ0EsSUFBSSxDQUFDLFlBQUwsQ0FBa0IsSUFBbEIsRUFBd0IsSUFBeEIsRUFBOEIsQ0FBOUIsRUFBaUMsQ0FBakMsRUFBb0MsQ0FBcEMsRUFBdUMsQ0FBdkMsRUFBMEMsWUFBMUMsRUFyQ0o7O0VBSlMsRUFyRWI7Ozs7Ozs7O0VBc0hBLFNBQUEsR0FBWSxRQUFBLENBQUEsQ0FBQTtXQUVSLEtBQUEsQ0FDSTtNQUFBLEdBQUEsRUFBSyxDQUFBLENBQUEsQ0FBRyxTQUFILENBQWEsaUJBQWIsQ0FBTDtNQUNBLFVBQUEsRUFBWSxNQURaO01BRUEsSUFBQSxFQUFNLEdBRk47TUFHQSxHQUFBLEVBQUs7SUFITCxDQURKO0VBRlE7O0VBUVosR0FBRyxDQUFDLEVBQUosQ0FBTyxtQkFBUCxFQUE0QixRQUFBLENBQUMsS0FBRCxDQUFBO1dBQVcsS0FBSyxDQUFDLGNBQU4sQ0FBQTtFQUFYLENBQTVCLEVBOUhBOzs7Ozs7OztFQXNJQSxHQUFHLENBQUMsRUFBSixDQUFPLE9BQVAsRUFBZ0IsUUFBQSxDQUFBLENBQUE7QUFFWixRQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBO0lBQUEsSUFBQSxHQUFPLElBQUksUUFBUSxDQUFDLElBQWIsQ0FBa0IsQ0FBQSxDQUFBLENBQUcsU0FBSCxDQUFhLGdCQUFiLENBQWxCO0lBQ1AsSUFBSSxDQUFDLEVBQUwsQ0FBUSxPQUFSLEVBQWlCLFNBQWpCO0lBQ0EsSUFBSSxDQUFDLEVBQUwsQ0FBUSxjQUFSLEVBQXdCLFFBQUEsQ0FBQSxDQUFBO01BQUcsR0FBRyxDQUFDLElBQUosQ0FBUyxDQUFUO2FBQVksT0FBTyxDQUFDLElBQVIsQ0FBYSxDQUFiO0lBQWYsQ0FBeEI7SUFFQSxJQUFJLENBQUMsY0FBTCxDQUFvQixJQUFJLENBQUMsaUJBQUwsQ0FBdUI7TUFDdkM7UUFBQSxLQUFBLEVBQU8sTUFBUDtRQUNBLEtBQUEsRUFBTyxRQUFBLENBQUEsQ0FBQTtVQUFHLEdBQUcsQ0FBQyxJQUFKLENBQVMsQ0FBVDtpQkFBWSxPQUFPLENBQUMsSUFBUixDQUFhLENBQWI7UUFBZjtNQURQLENBRHVDO01BSXZDO1FBQUEsS0FBQSxFQUFPLE9BQVA7UUFDQSxLQUFBLEVBQU87TUFEUCxDQUp1QztLQUF2QixDQUFwQjs7VUFRUSxDQUFFLElBQVYsQ0FBQTs7SUFFQSxJQUFBLEdBQ0k7TUFBQSxJQUFBLEVBQVksZUFBWjtNQUNBLEtBQUEsRUFBWSxnQkFEWjtNQUVBLEVBQUEsRUFBWSxhQUZaO01BR0EsSUFBQSxFQUFZLGVBSFo7TUFJQSxPQUFBLEVBQVksWUFKWjtNQUtBLE9BQUEsRUFBWSxZQUxaO01BTUEsUUFBQSxFQUFZLFlBTlo7TUFPQSxRQUFBLEVBQVksWUFQWjtNQVFBLEdBQUEsRUFBWSxZQVJaO01BU0EsR0FBQSxFQUFZLFlBVFo7TUFVQSxRQUFBLEVBQVksWUFWWjtNQVdBLFVBQUEsRUFBWTtJQVhaO0lBYUosS0FBSyxDQUFDLElBQU4sQ0FBVyxJQUFYO0lBRUEsSUFBRyxDQUFJLEtBQUssQ0FBQyxNQUFOLENBQWEsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUF6QixDQUFQO01BQ0ksS0FBSyxDQUFDLElBQU4sQ0FBQSxFQURKOztBQUdBO0FBQUE7SUFBQSxLQUFBLHNDQUFBOzttQkFDSSxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQXhCLENBQWlDLEtBQUssQ0FBQyxHQUFOLENBQVUsQ0FBVixDQUFqQyxFQUErQyxDQUFDLFFBQUEsQ0FBQyxDQUFELENBQUE7ZUFBTyxRQUFBLENBQUEsQ0FBQTtpQkFBRyxNQUFBLENBQU8sQ0FBUDtRQUFIO01BQVAsQ0FBRCxDQUFBLENBQXFCLENBQXJCLENBQS9DO0lBREosQ0FBQTs7RUFuQ1ksQ0FBaEI7O0VBc0NBLElBQUcsSUFBSSxDQUFDLEtBQVI7SUFDSSxPQUFBLENBQVEsY0FBUixDQUF1QixDQUFDLEtBQXhCLENBQThCO01BQUEsS0FBQSxFQUFNO0lBQU4sQ0FBOUIsRUFESjs7QUE1S0EiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcbjAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgICAgICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwMCAgIFxuMDAwIDAgMDAwICAgMDAwIDAwMCAgIDAwMCAwIDAwMCAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgXG4wMDAwMDAwMDAgICAgMDAwMDAgICAgMDAwMDAwMDAwICAgICAgICAwMDAwMDAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMDAgICBcbjAwMCAgIDAwMCAgIDAwMCAwMDAgICAwMDAgICAwMDAgICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgIFxuMDAgICAgIDAwICAwMDAgICAwMDAgIDAwICAgICAwMCAgICAgICAgMDAwICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgICAgXG4jIyNcblxueyBwb3N0LCBwcmVmcywgYWJvdXQsIHNsYXNoLCBjaGlsZHAsIGthcmcsIGVycm9yLCBsb2csIF8gfSA9IHJlcXVpcmUgJ2t4aydcblxudXNlciAgICAgPSByZXF1aXJlICcuL3VzZXInXG53aW5pbmZvICA9IHJlcXVpcmUgJy4vd2luaW5mbydcbnJlY3QgICAgID0gcmVxdWlyZSAnLi9yZWN0J1xucmVmICAgICAgPSByZXF1aXJlICdyZWYnXG5cbnBrZyAgICAgID0gcmVxdWlyZSAnLi4vcGFja2FnZS5qc29uJ1xuZWxlY3Ryb24gPSByZXF1aXJlICdlbGVjdHJvbidcblxuYXBwICAgICAgPSBlbGVjdHJvbi5hcHBcbk1lbnUgICAgID0gZWxlY3Ryb24uTWVudVxudHJheSAgICAgPSBudWxsXG5cbmFyZ3MgPSBrYXJnIFwiXCJcIlxud3h3XG4gICAgZGVidWcgIC4gPyBsb2cgZGVidWcgICAgLiA9IGZhbHNlIC4gLSBEXG5cbnZlcnNpb24gICN7cGtnLnZlcnNpb259XG5cIlwiXCJcbiMgYXJncy5kZWJ1ZyA9IHRydWVcblxucG9zdC5vbiAnd2lubG9nJywgKHRleHQpIC0+IGxvZyBcIj4+PiBcIiArIHRleHRcblxuIyAgMDAwMDAwMCAgICAwMDAwMDAwICAwMDAwMDAwMDAgIDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIFxuIyAwMDAgICAwMDAgIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAwICAwMDAgIFxuIyAwMDAwMDAwMDAgIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgMCAwMDAgIFxuIyAwMDAgICAwMDAgIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgIDAwMDAgIFxuIyAwMDAgICAwMDAgICAwMDAwMDAwICAgICAwMDAgICAgIDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIFxuXG5hY3Rpb24gPSAoYWN0KSAtPlxuICAgIFxuICAgIHN3aXRjaCBhY3RcbiAgICAgICAgd2hlbiAnbWluaW1pemUnICAgdGhlbiBtaW5pbWl6ZVdpbmRvdygpXG4gICAgICAgIHdoZW4gJ3NjcmVlbnpvb20nIHRoZW4gcmVxdWlyZSgnLi9zY3JlZW56b29tJykuc3RhcnQoKVxuICAgICAgICBlbHNlIG1vdmVXaW5kb3cgYWN0XG4gICAgICAgIFxuIyAwMCAgICAgMDAgIDAwMCAgMDAwICAgMDAwICAwMDAgIDAwICAgICAwMCAgMDAwICAwMDAwMDAwICAwMDAwMDAwMCAgXG4jIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgIDAwMCAgIDAwMCAgICAgICBcbiMgMDAwMDAwMDAwICAwMDAgIDAwMCAwIDAwMCAgMDAwICAwMDAwMDAwMDAgIDAwMCAgICAwMDAgICAgMDAwMDAwMCAgIFxuIyAwMDAgMCAwMDAgIDAwMCAgMDAwICAwMDAwICAwMDAgIDAwMCAwIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgICAgXG4jIDAwMCAgIDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwICAgMDAwICAwMDAgIDAwMDAwMDAgIDAwMDAwMDAwICBcblxubWluaW1pemVXaW5kb3cgPSAtPlxuXG4gICAgZW5zdXJlRm9jdXNXaW5kb3cgPSAtPlxuICAgICAgICBcbiAgICAgICAgaWYgbm90IHVzZXIuR2V0Rm9yZWdyb3VuZFdpbmRvdygpXG4gICAgICAgICAgICBsb2cgJ25vIGZvY3VzIHdpbmRvdyEnXG4gICAgICAgIFxuICAgIGlmIGhXbmQgPSB1c2VyLkdldEZvcmVncm91bmRXaW5kb3coKVxuICAgICAgICBTV19NSU5JTUlaRSA9IDZcbiAgICAgICAgdXNlci5TaG93V2luZG93IGhXbmQsIFNXX01JTklNSVpFXG4gICAgICAgIHNldFRpbWVvdXQgZW5zdXJlRm9jdXNXaW5kb3csIDUwXG4gICAgICAgIFxuIyAwMCAgICAgMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAwMDAwMCAgXG4jIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICBcbiMgMDAwMDAwMDAwICAwMDAgICAwMDAgICAwMDAgMDAwICAgMDAwMDAwMCAgIFxuIyAwMDAgMCAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgXG4jIDAwMCAgIDAwMCAgIDAwMDAwMDAgICAgICAgMCAgICAgIDAwMDAwMDAwICBcblxubW92ZVdpbmRvdyA9IChkaXIpIC0+XG4gICAgXG4gICAgYXIgPSByZWN0LndvcmthcmVhKClcbiAgICAgICAgXG4gICAgaWYgaFduZCA9IHVzZXIuR2V0Rm9yZWdyb3VuZFdpbmRvdygpXG4gICAgICAgIFxuICAgICAgICBpbmZvID0gd2luaW5mbyBoV25kXG4gICAgICAgIGJhc2UgPSBzbGFzaC5iYXNlIGluZm8ucGF0aFxuICAgICAgICBpZiBiYXNlIGluIFsnZWxlY3Ryb24nLCAna28nLCAna29ucmFkJywgJ2NsaXBwbycsICdrbG9nJywgJ2thbGlncmFmJywgJ2thbGsnLCAndW5pa28nLCAna25vdCcsICdIeXBlciddXG4gICAgICAgICAgICBiID0gMCAgICAjIHNhbmUgd2luZG93IGJvcmRlclxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBiID0gMTAuOSAjIHRyYW5zcGFyZW50IHdpbmRvdyBib3JkZXJcbiAgICAgICAgXG4gICAgICAgIHdyID0gcmVjdC53aW5kb3cgaFduZFxuICAgICAgICBkID0gMipiXG4gICAgICAgIFt4LHksdyxoXSA9IHN3aXRjaCBkaXJcbiAgICAgICAgICAgIHdoZW4gJ2xlZnQnICAgICB0aGVuIFstYiwgICAgICAgICAwLCAgICAgICAgYXIudy8yK2QsIGFyLmgrYl1cbiAgICAgICAgICAgIHdoZW4gJ3JpZ2h0JyAgICB0aGVuIFthci53LzItYiwgICAwLCAgICAgICAgYXIudy8yK2QsIGFyLmgrYl1cbiAgICAgICAgICAgIHdoZW4gJ2Rvd24nICAgICB0aGVuIFthci53LzQtYiwgICAwLCAgICAgICAgYXIudy8yK2QsIGFyLmgrYl1cbiAgICAgICAgICAgIHdoZW4gJ3VwJyAgICAgICB0aGVuIFthci53LzYtYiwgICAwLCAgICAyLzMqYXIudytkLCAgIGFyLmgrYl1cbiAgICAgICAgICAgIHdoZW4gJ3RvcGxlZnQnICB0aGVuIFstYiwgICAgICAgICAwLCAgICAgICAgYXIudy8zK2QsIGFyLmgvMl1cbiAgICAgICAgICAgIHdoZW4gJ3RvcCcgICAgICB0aGVuIFthci53LzMtYiwgICAwLCAgICAgICAgYXIudy8zK2QsIGFyLmgvMl1cbiAgICAgICAgICAgIHdoZW4gJ3RvcHJpZ2h0JyB0aGVuIFsyLzMqYXIudy1iLCAwLCAgICAgICAgYXIudy8zK2QsIGFyLmgvMl1cbiAgICAgICAgICAgIHdoZW4gJ2JvdGxlZnQnICB0aGVuIFstYiwgICAgICAgICBhci5oLzItYiwgYXIudy8zK2QsIGFyLmgvMitkXVxuICAgICAgICAgICAgd2hlbiAnYm90JyAgICAgIHRoZW4gW2FyLncvMy1iLCAgIGFyLmgvMi1iLCBhci53LzMrZCwgYXIuaC8yK2RdXG4gICAgICAgICAgICB3aGVuICdib3RyaWdodCcgdGhlbiBbMi8zKmFyLnctYiwgYXIuaC8yLWIsIGFyLncvMytkLCBhci5oLzIrZF1cbiAgICAgICAgXG4gICAgICAgIHNsID0gMjAgPiBNYXRoLmFicyB3ci54IC0gIHhcbiAgICAgICAgc3IgPSAyMCA+IE1hdGguYWJzIHdyLngrd3IudyAtICh4K3cpXG4gICAgICAgIHN0ID0gMjAgPiBNYXRoLmFicyB3ci55IC0gIHlcbiAgICAgICAgc2IgPSAyMCA+IE1hdGguYWJzIHdyLnkrd3IuaCAtICh5K2gpXG4gICAgICAgIFxuICAgICAgICBpZiBzbCBhbmQgc3IgYW5kIHN0IGFuZCBzYlxuICAgICAgICAgICAgc3dpdGNoIGRpclxuICAgICAgICAgICAgICAgIHdoZW4gJ2xlZnQnICB0aGVuIHcgID0gYXIudy80K2RcbiAgICAgICAgICAgICAgICB3aGVuICdyaWdodCcgdGhlbiB3ICA9IGFyLncvNCtkOyB4ID0gMyphci53LzQtYlxuICAgICAgICAgICAgICAgIHdoZW4gJ2Rvd24nICB0aGVuIGggID0gYXIuaC8yK2Q7IHkgPSBhci5oLzItYlxuICAgICAgICAgICAgICAgIHdoZW4gJ3VwJyAgICB0aGVuIHcgID0gYXIudytkOyAgIHggPSAtYlxuICAgICAgICBcbiAgICAgICAgU1dQX05PWk9SREVSID0gMHg0XG4gICAgICAgIHVzZXIuUmVzdG9yZVdpbmRvdyBoV25kXG4gICAgICAgIHVzZXIuU2V0V2luZG93UG9zIGhXbmQsIG51bGwsIHgsIHksIHcsIGgsIFNXUF9OT1pPUkRFUlxuICAgICAgICBcbiMgIDAwMDAwMDAgICAwMDAwMDAwICAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAwMDAwMDAgIFxuIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgXG4jIDAwMDAwMDAwMCAgMDAwMDAwMCAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICBcbiMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIFxuIyAwMDAgICAwMDAgIDAwMDAwMDAgICAgIDAwMDAwMDAgICAgMDAwMDAwMCAgICAgIDAwMCAgICAgXG5cbnNob3dBYm91dCA9IC0+XG4gICAgXG4gICAgYWJvdXQgXG4gICAgICAgIGltZzogXCIje19fZGlybmFtZX0vLi4vaW1nL2Fib3V0LnBuZ1wiXG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzIyMlwiXG4gICAgICAgIHNpemU6IDMwMFxuICAgICAgICBwa2c6IHBrZ1xuXG5hcHAub24gJ3dpbmRvdy1hbGwtY2xvc2VkJywgKGV2ZW50KSAtPiBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIFxuIyAwMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAgICAgMDAwICAgMDAwXG4jIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgMDAwIDAwMCBcbiMgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAgICAwMDAgICAgMDAwMDAgIFxuIyAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgXG4jIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAgICAwMDAgICBcblxuYXBwLm9uICdyZWFkeScsIC0+XG4gICAgXG4gICAgdHJheSA9IG5ldyBlbGVjdHJvbi5UcmF5IFwiI3tfX2Rpcm5hbWV9Ly4uL2ltZy9tZW51LnBuZ1wiXG4gICAgdHJheS5vbiAnY2xpY2snLCBzaG93QWJvdXRcbiAgICB0cmF5Lm9uICdkb3VibGUtY2xpY2snLCAtPiBhcHAuZXhpdCAwOyBwcm9jZXNzLmV4aXQgMFxuICAgIFxuICAgIHRyYXkuc2V0Q29udGV4dE1lbnUgTWVudS5idWlsZEZyb21UZW1wbGF0ZSBbXG4gICAgICAgIGxhYmVsOiBcIlF1aXRcIlxuICAgICAgICBjbGljazogLT4gYXBwLmV4aXQgMDsgcHJvY2Vzcy5leGl0IDBcbiAgICAsXG4gICAgICAgIGxhYmVsOiBcIkFib3V0XCJcbiAgICAgICAgY2xpY2s6IHNob3dBYm91dFxuICAgIF1cbiAgICBcbiAgICBhcHAuZG9jaz8uaGlkZSgpXG4gICAgXG4gICAga2V5cyA9IFxuICAgICAgICBsZWZ0OiAgICAgICAnY3RybCthbHQrbGVmdCdcbiAgICAgICAgcmlnaHQ6ICAgICAgJ2N0cmwrYWx0K3JpZ2h0J1xuICAgICAgICB1cDogICAgICAgICAnY3RybCthbHQrdXAnXG4gICAgICAgIGRvd246ICAgICAgICdjdHJsK2FsdCtkb3duJ1xuICAgICAgICB0b3BsZWZ0OiAgICAnY3RybCthbHQrMSdcbiAgICAgICAgYm90bGVmdDogICAgJ2N0cmwrYWx0KzInXG4gICAgICAgIHRvcHJpZ2h0OiAgICdjdHJsK2FsdCszJ1xuICAgICAgICBib3RyaWdodDogICAnY3RybCthbHQrNCdcbiAgICAgICAgdG9wOiAgICAgICAgJ2N0cmwrYWx0KzUnXG4gICAgICAgIGJvdDogICAgICAgICdjdHJsK2FsdCs2J1xuICAgICAgICBtaW5pbWl6ZTogICAnY3RybCthbHQrbSdcbiAgICAgICAgc2NyZWVuem9vbTogJ2FsdCt6J1xuICAgICAgICBcbiAgICBwcmVmcy5pbml0IGtleXNcbiAgICBcbiAgICBpZiBub3Qgc2xhc2guaXNGaWxlIHByZWZzLnN0b3JlLmZpbGVcbiAgICAgICAgcHJlZnMuc2F2ZSgpXG5cbiAgICBmb3IgYSBpbiBfLmtleXMga2V5c1xuICAgICAgICBlbGVjdHJvbi5nbG9iYWxTaG9ydGN1dC5yZWdpc3RlciBwcmVmcy5nZXQoYSksICgoYSkgLT4gLT4gYWN0aW9uIGEpKGEpXG4gIFxuaWYgYXJncy5kZWJ1Z1xuICAgIHJlcXVpcmUoJy4vc2NyZWVuem9vbScpLnN0YXJ0IGRlYnVnOnRydWVcbiAgICAiXX0=
//# sourceURL=../coffee/app.coffee