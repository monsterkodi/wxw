// koffee 1.3.0

/*
000   000  000   000  000   000         0000000   00000000   00000000   
000 0 000   000 000   000 0 000        000   000  000   000  000   000  
000000000    00000    000000000        000000000  00000000   00000000   
000   000   000 000   000   000        000   000  000        000        
00     00  000   000  00     00        000   000  000        000
 */
var Menu, _, about, action, app, args, childp, electron, karg, klog, moveWindow, pkg, post, prefs, ref, showAbout, slash, tray, wc;

ref = require('kxk'), post = ref.post, prefs = ref.prefs, about = ref.about, slash = ref.slash, childp = ref.childp, karg = ref.karg, klog = ref.klog, _ = ref._;

wc = require('./wc');

pkg = require('../package.json');

electron = require('electron');

app = electron.app;

Menu = electron.Menu;

tray = null;

args = karg("wxw\n    debug  . ? log debug    . = false . - D\n\nversion  " + pkg.version);

post.on('winlog', function(text) {
    return klog(">>> " + text);
});

action = function(act) {
    switch (act) {
        case 'maximize':
            return wc('maximize', 'top');
        case 'minimize':
            return wc('minimize', 'top');
        case 'taskbar':
            return wc('taskbar', 'toggle');
        case 'close':
            return wc('close', 'top');
        case 'screenzoom':
            return require('./zoom').start();
        case 'appswitch':
            return require('./switch').start();
        default:
            return moveWindow(act);
    }
};

moveWindow = function(dir) {
    var ar, b, base, d, h, info, ref1, sb, screen, sl, sr, st, w, wr, x, y;
    screen = wc('screen', 'user');
    ar = {
        w: screen.width,
        h: screen.height
    };
    if (info = wc('info', 'top')[0]) {
        base = slash.base(info.path);
        if (base === 'electron' || base === 'ko' || base === 'konrad' || base === 'clippo' || base === 'klog' || base === 'kaligraf' || base === 'kalk' || base === 'uniko' || base === 'knot' || base === 'kachel' || base === 'space' || base === 'ruler') {
            b = 0;
        } else {
            b = 11;
        }
        wr = {
            x: info.x,
            y: info.y,
            w: info.width,
            h: info.height
        };
        d = 2 * b;
        ref1 = (function() {
            switch (dir) {
                case 'left':
                    return [-b, 0, ar.w / 2 + d, ar.h + b];
                case 'right':
                    return [ar.w / 2 - b, 0, ar.w / 2 + d, ar.h + b];
                case 'down':
                    return [ar.w / 4 - b, 0, ar.w / 2 + d, ar.h + b];
                case 'up':
                    return [ar.w / 6 - b, 0, 2 / 3 * ar.w + d, ar.h + b];
                case 'topleft':
                    return [-b, 0, ar.w / 3 + d, ar.h / 2];
                case 'top':
                    return [ar.w / 3 - b, 0, ar.w / 3 + d, ar.h / 2];
                case 'topright':
                    return [2 / 3 * ar.w - b, 0, ar.w / 3 + d, ar.h / 2];
                case 'botleft':
                    return [-b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
                case 'bot':
                    return [ar.w / 3 - b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
                case 'botright':
                    return [2 / 3 * ar.w - b, ar.h / 2 - b, ar.w / 3 + d, ar.h / 2 + d];
            }
        })(), x = ref1[0], y = ref1[1], w = ref1[2], h = ref1[3];
        sl = 20 > Math.abs(wr.x - x);
        sr = 20 > Math.abs(wr.x + wr.w - (x + w));
        st = 20 > Math.abs(wr.y - y);
        sb = 20 > Math.abs(wr.y + wr.h - (y + h));
        if (sl && sr && st && sb) {
            switch (dir) {
                case 'left':
                    w = ar.w / 4 + d;
                    break;
                case 'right':
                    w = ar.w / 4 + d;
                    x = 3 * ar.w / 4 - b;
                    break;
                case 'down':
                    h = ar.h / 2 + d;
                    y = ar.h / 2 - b;
                    break;
                case 'up':
                    w = ar.w + d;
                    x = -b;
            }
        }
        return wc('bounds', info.hwnd, x, y, w, h);
    }
};

showAbout = function() {
    return about({
        img: __dirname + "/../img/about.png",
        background: "#222",
        size: 300,
        pkg: pkg
    });
};

app.on('window-all-closed', function(event) {
    return event.preventDefault();
});

app.on('ready', function() {
    var a, i, keys, len, ref1, ref2, results;
    tray = new electron.Tray(__dirname + "/../img/menu.png");
    tray.on('click', showAbout);
    tray.on('double-click', function() {
        app.exit(0);
        return process.exit(0);
    });
    tray.setContextMenu(Menu.buildFromTemplate([
        {
            label: "Quit",
            click: function() {
                app.exit(0);
                return process.exit(0);
            }
        }, {
            label: "About",
            click: showAbout
        }
    ]));
    if ((ref1 = app.dock) != null) {
        ref1.hide();
    }
    keys = {
        left: 'ctrl+alt+left',
        right: 'ctrl+alt+right',
        up: 'ctrl+alt+up',
        down: 'ctrl+alt+down',
        topleft: 'ctrl+alt+1',
        botleft: 'ctrl+alt+2',
        topright: 'ctrl+alt+3',
        botright: 'ctrl+alt+4',
        top: 'ctrl+alt+5',
        bot: 'ctrl+alt+6',
        minimize: 'ctrl+alt+m',
        close: 'ctrl+alt+w',
        taskbar: 'ctrl+alt+t',
        appswitch: 'ctrl+tab',
        screenzoom: 'alt+z'
    };
    prefs.init({
        defaults: keys
    });
    ref2 = _.keys(keys);
    results = [];
    for (i = 0, len = ref2.length; i < len; i++) {
        a = ref2[i];
        results.push(electron.globalShortcut.register(prefs.get(a), (function(a) {
            return function() {
                return action(a);
            };
        })(a)));
    }
    return results;
});

if (app.requestSingleInstanceLock != null) {
    if (!app.requestSingleInstanceLock()) {
        app.quit();
    }
}

if (args.debug) {
    require('./zoom').start({
        debug: true
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBQUEsSUFBQTs7QUFRQSxNQUF1RCxPQUFBLENBQVEsS0FBUixDQUF2RCxFQUFFLGVBQUYsRUFBUSxpQkFBUixFQUFlLGlCQUFmLEVBQXNCLGlCQUF0QixFQUE2QixtQkFBN0IsRUFBcUMsZUFBckMsRUFBMkMsZUFBM0MsRUFBaUQ7O0FBRWpELEVBQUEsR0FBVyxPQUFBLENBQVEsTUFBUjs7QUFDWCxHQUFBLEdBQVcsT0FBQSxDQUFRLGlCQUFSOztBQUNYLFFBQUEsR0FBVyxPQUFBLENBQVEsVUFBUjs7QUFFWCxHQUFBLEdBQVcsUUFBUSxDQUFDOztBQUNwQixJQUFBLEdBQVcsUUFBUSxDQUFDOztBQUNwQixJQUFBLEdBQVc7O0FBRVgsSUFBQSxHQUFPLElBQUEsQ0FBSywrREFBQSxHQUlELEdBQUcsQ0FBQyxPQUpSOztBQVNQLElBQUksQ0FBQyxFQUFMLENBQVEsUUFBUixFQUFrQixTQUFDLElBQUQ7V0FBVSxJQUFBLENBQUssTUFBQSxHQUFTLElBQWQ7QUFBVixDQUFsQjs7QUFRQSxNQUFBLEdBQVMsU0FBQyxHQUFEO0FBRUwsWUFBTyxHQUFQO0FBQUEsYUFDUyxVQURUO21CQUMyQixFQUFBLENBQUcsVUFBSCxFQUFjLEtBQWQ7QUFEM0IsYUFFUyxVQUZUO21CQUUyQixFQUFBLENBQUcsVUFBSCxFQUFjLEtBQWQ7QUFGM0IsYUFHUyxTQUhUO21CQUcyQixFQUFBLENBQUcsU0FBSCxFQUFjLFFBQWQ7QUFIM0IsYUFJUyxPQUpUO21CQUkyQixFQUFBLENBQUcsT0FBSCxFQUFjLEtBQWQ7QUFKM0IsYUFLUyxZQUxUO21CQUsyQixPQUFBLENBQVEsUUFBUixDQUFpQixDQUFDLEtBQWxCLENBQUE7QUFMM0IsYUFNUyxXQU5UO21CQU0yQixPQUFBLENBQVEsVUFBUixDQUFtQixDQUFDLEtBQXBCLENBQUE7QUFOM0I7bUJBT1MsVUFB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QUFWLENBQWpDLEVBQStDLENBQUMsU0FBQyxDQUFEO21CQUFPLFNBQUE7dUJBQUcsTUFBQSxDQUFPLENBQVA7WUFBSDtRQUFQLENBQUQsQ0FBQSxDQUFxQixDQUFyQixDQUEvQztBQURKOztBQW5DWSxDQUFoQjs7QUFzQ0EsSUFBRyxxQ0FBSDtJQUNJLElBQUcsQ0FBQyxHQUFHLENBQUMseUJBQUosQ0FBQSxDQUFKO1FBQ0ksR0FBRyxDQUFDLElBQUosQ0FBQSxFQURKO0tBREo7OztBQUlBLElBQUcsSUFBSSxDQUFDLEtBQVI7SUFDSSxPQUFBLENBQVEsUUFBUixDQUFpQixDQUFDLEtBQWxCLENBQXdCO1FBQUEsS0FBQSxFQUFNLElBQU47S0FBeEIsRUFESiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgICAgIDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMDAwMDAwICAgXG4wMDAgMCAwMDAgICAwMDAgMDAwICAgMDAwIDAgMDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICBcbjAwMDAwMDAwMCAgICAwMDAwMCAgICAwMDAwMDAwMDAgICAgICAgIDAwMDAwMDAwMCAgMDAwMDAwMDAgICAwMDAwMDAwMCAgIFxuMDAwICAgMDAwICAgMDAwIDAwMCAgIDAwMCAgIDAwMCAgICAgICAgMDAwICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgICAgXG4wMCAgICAgMDAgIDAwMCAgIDAwMCAgMDAgICAgIDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAgMDAwICAgICAgICBcbiMjI1xuXG57IHBvc3QsIHByZWZzLCBhYm91dCwgc2xhc2gsIGNoaWxkcCwga2FyZywga2xvZywgXyB9ID0gcmVxdWlyZSAna3hrJ1xuXG53YyAgICAgICA9IHJlcXVpcmUgJy4vd2MnXG5wa2cgICAgICA9IHJlcXVpcmUgJy4uL3BhY2thZ2UuanNvbidcbmVsZWN0cm9uID0gcmVxdWlyZSAnZWxlY3Ryb24nXG5cbmFwcCAgICAgID0gZWxlY3Ryb24uYXBwXG5NZW51ICAgICA9IGVsZWN0cm9uLk1lbnVcbnRyYXkgICAgID0gbnVsbFxuXG5hcmdzID0ga2FyZyBcIlwiXCJcbnd4d1xuICAgIGRlYnVnICAuID8gbG9nIGRlYnVnICAgIC4gPSBmYWxzZSAuIC0gRFxuXG52ZXJzaW9uICAje3BrZy52ZXJzaW9ufVxuXCJcIlwiXG5cbiMgYXJncy5kZWJ1ZyA9IHRydWVcblxucG9zdC5vbiAnd2lubG9nJywgKHRleHQpIC0+IGtsb2cgXCI+Pj4gXCIgKyB0ZXh0XG5cbiMgIDAwMDAwMDAgICAgMDAwMDAwMCAgMDAwMDAwMDAwICAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICBcbiMgMDAwICAgMDAwICAwMDAgICAgICAgICAgMDAwICAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMCAgMDAwICBcbiMgMDAwMDAwMDAwICAwMDAgICAgICAgICAgMDAwICAgICAwMDAgIDAwMCAgIDAwMCAgMDAwIDAgMDAwICBcbiMgMDAwICAgMDAwICAwMDAgICAgICAgICAgMDAwICAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICBcbiMgMDAwICAgMDAwICAgMDAwMDAwMCAgICAgMDAwICAgICAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICBcblxuYWN0aW9uID0gKGFjdCkgLT5cbiAgICBcbiAgICBzd2l0Y2ggYWN0XG4gICAgICAgIHdoZW4gJ21heGltaXplJyAgIHRoZW4gd2MgJ21heGltaXplJyAndG9wJ1xuICAgICAgICB3aGVuICdtaW5pbWl6ZScgICB0aGVuIHdjICdtaW5pbWl6ZScgJ3RvcCdcbiAgICAgICAgd2hlbiAndGFza2JhcicgICAgdGhlbiB3YyAndGFza2JhcicgICd0b2dnbGUnXG4gICAgICAgIHdoZW4gJ2Nsb3NlJyAgICAgIHRoZW4gd2MgJ2Nsb3NlJyAgICAndG9wJ1xuICAgICAgICB3aGVuICdzY3JlZW56b29tJyB0aGVuIHJlcXVpcmUoJy4vem9vbScpLnN0YXJ0KClcbiAgICAgICAgd2hlbiAnYXBwc3dpdGNoJyAgdGhlbiByZXF1aXJlKCcuL3N3aXRjaCcpLnN0YXJ0KClcbiAgICAgICAgZWxzZSBtb3ZlV2luZG93IGFjdFxuICAgICAgICBcbiMgMDAgICAgIDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIFxuIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgXG4jIDAwMDAwMDAwMCAgMDAwICAgMDAwICAgMDAwIDAwMCAgIDAwMDAwMDAgICBcbiMgMDAwIDAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIFxuIyAwMDAgICAwMDAgICAwMDAwMDAwICAgICAgIDAgICAgICAwMDAwMDAwMCAgXG5cbm1vdmVXaW5kb3cgPSAoZGlyKSAtPlxuICAgIFxuICAgIHNjcmVlbiA9IHdjICdzY3JlZW4nICd1c2VyJ1xuICAgIFxuICAgIGFyID0gdzpzY3JlZW4ud2lkdGgsIGg6c2NyZWVuLmhlaWdodFxuICAgIFxuICAgIGlmIGluZm8gPSB3YygnaW5mbycgJ3RvcCcpWzBdXG4gICAgICAgIFxuICAgICAgICBiYXNlID0gc2xhc2guYmFzZSBpbmZvLnBhdGhcbiAgICAgICAgaWYgYmFzZSBpbiBbJ2VsZWN0cm9uJyAna28nICdrb25yYWQnICdjbGlwcG8nICdrbG9nJyAna2FsaWdyYWYnICdrYWxrJyAndW5pa28nICdrbm90JyAna2FjaGVsJyAnc3BhY2UnICdydWxlciddXG4gICAgICAgICAgICBiID0gMCAgICAjIHNhbmUgd2luZG93IGJvcmRlclxuICAgICAgICBlbHNlXG4gICAgICAgICAgICAjIGIgPSAxMC45ICMgdHJhbnNwYXJlbnQgd2luZG93IGJvcmRlclxuICAgICAgICAgICAgYiA9IDExICAgIyB0cmFuc3BhcmVudCB3aW5kb3cgYm9yZGVyXG4gICAgICAgIFxuICAgICAgICB3ciA9IHg6aW5mby54LCB5OmluZm8ueSwgdzppbmZvLndpZHRoLCBoOmluZm8uaGVpZ2h0XG4gICAgICAgIGQgPSAyKmJcbiAgICAgICAgW3gseSx3LGhdID0gc3dpdGNoIGRpclxuICAgICAgICAgICAgd2hlbiAnbGVmdCcgICAgIHRoZW4gWy1iLCAgICAgICAgIDAsICAgICAgICBhci53LzIrZCwgYXIuaCtiXVxuICAgICAgICAgICAgd2hlbiAncmlnaHQnICAgIHRoZW4gW2FyLncvMi1iLCAgIDAsICAgICAgICBhci53LzIrZCwgYXIuaCtiXVxuICAgICAgICAgICAgd2hlbiAnZG93bicgICAgIHRoZW4gW2FyLncvNC1iLCAgIDAsICAgICAgICBhci53LzIrZCwgYXIuaCtiXVxuICAgICAgICAgICAgd2hlbiAndXAnICAgICAgIHRoZW4gW2FyLncvNi1iLCAgIDAsICAgIDIvMyphci53K2QsICAgYXIuaCtiXVxuICAgICAgICAgICAgd2hlbiAndG9wbGVmdCcgIHRoZW4gWy1iLCAgICAgICAgIDAsICAgICAgICBhci53LzMrZCwgYXIuaC8yXVxuICAgICAgICAgICAgd2hlbiAndG9wJyAgICAgIHRoZW4gW2FyLncvMy1iLCAgIDAsICAgICAgICBhci53LzMrZCwgYXIuaC8yXVxuICAgICAgICAgICAgd2hlbiAndG9wcmlnaHQnIHRoZW4gWzIvMyphci53LWIsIDAsICAgICAgICBhci53LzMrZCwgYXIuaC8yXVxuICAgICAgICAgICAgd2hlbiAnYm90bGVmdCcgIHRoZW4gWy1iLCAgICAgICAgIGFyLmgvMi1iLCBhci53LzMrZCwgYXIuaC8yK2RdXG4gICAgICAgICAgICB3aGVuICdib3QnICAgICAgdGhlbiBbYXIudy8zLWIsICAgYXIuaC8yLWIsIGFyLncvMytkLCBhci5oLzIrZF1cbiAgICAgICAgICAgIHdoZW4gJ2JvdHJpZ2h0JyB0aGVuIFsyLzMqYXIudy1iLCBhci5oLzItYiwgYXIudy8zK2QsIGFyLmgvMitkXVxuICAgICAgICBcbiAgICAgICAgc2wgPSAyMCA+IE1hdGguYWJzIHdyLnggLSAgeFxuICAgICAgICBzciA9IDIwID4gTWF0aC5hYnMgd3IueCt3ci53IC0gKHgrdylcbiAgICAgICAgc3QgPSAyMCA+IE1hdGguYWJzIHdyLnkgLSAgeVxuICAgICAgICBzYiA9IDIwID4gTWF0aC5hYnMgd3IueSt3ci5oIC0gKHkraClcbiAgICAgICAgXG4gICAgICAgIGlmIHNsIGFuZCBzciBhbmQgc3QgYW5kIHNiXG4gICAgICAgICAgICBzd2l0Y2ggZGlyXG4gICAgICAgICAgICAgICAgd2hlbiAnbGVmdCcgIHRoZW4gdyAgPSBhci53LzQrZFxuICAgICAgICAgICAgICAgIHdoZW4gJ3JpZ2h0JyB0aGVuIHcgID0gYXIudy80K2Q7IHggPSAzKmFyLncvNC1iXG4gICAgICAgICAgICAgICAgd2hlbiAnZG93bicgIHRoZW4gaCAgPSBhci5oLzIrZDsgeSA9IGFyLmgvMi1iXG4gICAgICAgICAgICAgICAgd2hlbiAndXAnICAgIHRoZW4gdyAgPSBhci53K2Q7ICAgeCA9IC1iXG4gICAgICAgIFxuICAgICAgICB3YyAnYm91bmRzJyBpbmZvLmh3bmQsIHgsIHksIHcsIGhcbiAgICAgICAgXG4jICAwMDAwMDAwICAgMDAwMDAwMCAgICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMDAwICBcbiMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIFxuIyAwMDAwMDAwMDAgIDAwMDAwMDAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgXG4jIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICBcbiMgMDAwICAgMDAwICAwMDAwMDAwICAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAgICAwMDAgICAgIFxuXG5zaG93QWJvdXQgPSAtPlxuICAgIFxuICAgIGFib3V0IFxuICAgICAgICBpbWc6IFwiI3tfX2Rpcm5hbWV9Ly4uL2ltZy9hYm91dC5wbmdcIlxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMyMjJcIlxuICAgICAgICBzaXplOiAzMDBcbiAgICAgICAgcGtnOiBwa2dcblxuYXBwLm9uICd3aW5kb3ctYWxsLWNsb3NlZCcgKGV2ZW50KSAtPiBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIFxuIyAwMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAgICAgMDAwICAgMDAwXG4jIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgMDAwIDAwMCBcbiMgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAgICAwMDAgICAgMDAwMDAgIFxuIyAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgXG4jIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAgICAwMDAgICBcblxuYXBwLm9uICdyZWFkeScsIC0+XG4gICAgXG4gICAgdHJheSA9IG5ldyBlbGVjdHJvbi5UcmF5IFwiI3tfX2Rpcm5hbWV9Ly4uL2ltZy9tZW51LnBuZ1wiXG4gICAgdHJheS5vbiAnY2xpY2snIHNob3dBYm91dFxuICAgIHRyYXkub24gJ2RvdWJsZS1jbGljaycgLT4gYXBwLmV4aXQgMDsgcHJvY2Vzcy5leGl0IDBcbiAgICBcbiAgICB0cmF5LnNldENvbnRleHRNZW51IE1lbnUuYnVpbGRGcm9tVGVtcGxhdGUgW1xuICAgICAgICBsYWJlbDogXCJRdWl0XCJcbiAgICAgICAgY2xpY2s6IC0+IGFwcC5leGl0IDA7IHByb2Nlc3MuZXhpdCAwXG4gICAgLFxuICAgICAgICBsYWJlbDogXCJBYm91dFwiXG4gICAgICAgIGNsaWNrOiBzaG93QWJvdXRcbiAgICBdXG4gICAgXG4gICAgYXBwLmRvY2s/LmhpZGUoKVxuICAgIFxuICAgIGtleXMgPSBcbiAgICAgICAgbGVmdDogICAgICAgJ2N0cmwrYWx0K2xlZnQnXG4gICAgICAgIHJpZ2h0OiAgICAgICdjdHJsK2FsdCtyaWdodCdcbiAgICAgICAgdXA6ICAgICAgICAgJ2N0cmwrYWx0K3VwJ1xuICAgICAgICBkb3duOiAgICAgICAnY3RybCthbHQrZG93bidcbiAgICAgICAgdG9wbGVmdDogICAgJ2N0cmwrYWx0KzEnXG4gICAgICAgIGJvdGxlZnQ6ICAgICdjdHJsK2FsdCsyJ1xuICAgICAgICB0b3ByaWdodDogICAnY3RybCthbHQrMydcbiAgICAgICAgYm90cmlnaHQ6ICAgJ2N0cmwrYWx0KzQnXG4gICAgICAgIHRvcDogICAgICAgICdjdHJsK2FsdCs1J1xuICAgICAgICBib3Q6ICAgICAgICAnY3RybCthbHQrNidcbiAgICAgICAgbWluaW1pemU6ICAgJ2N0cmwrYWx0K20nXG4gICAgICAgIGNsb3NlOiAgICAgICdjdHJsK2FsdCt3J1xuICAgICAgICB0YXNrYmFyOiAgICAnY3RybCthbHQrdCdcbiAgICAgICAgYXBwc3dpdGNoOiAgJ2N0cmwrdGFiJ1xuICAgICAgICBzY3JlZW56b29tOiAnYWx0K3onXG4gICAgICAgIFxuICAgIHByZWZzLmluaXQgZGVmYXVsdHM6a2V5c1xuICAgIFxuICAgIGZvciBhIGluIF8ua2V5cyBrZXlzXG4gICAgICAgIGVsZWN0cm9uLmdsb2JhbFNob3J0Y3V0LnJlZ2lzdGVyIHByZWZzLmdldChhKSwgKChhKSAtPiAtPiBhY3Rpb24gYSkoYSlcbiAgXG5pZiBhcHAucmVxdWVzdFNpbmdsZUluc3RhbmNlTG9jaz8gXG4gICAgaWYgIWFwcC5yZXF1ZXN0U2luZ2xlSW5zdGFuY2VMb2NrKClcbiAgICAgICAgYXBwLnF1aXQoKVxuICAgICAgICBcbmlmIGFyZ3MuZGVidWdcbiAgICByZXF1aXJlKCcuL3pvb20nKS5zdGFydCBkZWJ1Zzp0cnVlXG4gICAgXG4gICAgIl19
//# sourceURL=../coffee/app.coffee